<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head th:replace="fragments/headerinc :: head" />
<meta charset="utf-8" />


<body id="page-top">
	<!-- Navigation -->
	<header th:replace="fragments/header :: header"></header>
	
	
	<div class="container text-center my-top">
			<h1  class="mb-1 mt-3">Great DataBase of OffFestival Bands</h1>
			<br/>
			<h3 sec:authorize="isAuthenticated()"  class="mb-1 mt-7">Search for your best and add to your own Playlist DataBase!</h3>
			
			<h3 sec:authorize="!isAuthenticated()" class="mb-1 mt-3"><u>Register to use awesome Playlist Creator!</u></h3>
			</div>		
			
			
			
			<br/>
			<br/>

	<form th:action="@{/listofallbands}" method="post" th:object="${filter}">
		<div class="masthead-search">
			Name Band:<input type="text" size="15" id="own" th:field="*{name_band}"
				placeholder="Search for Band.." />
				
			Music Genre: <input type="text"
				size="15" id="own" th:field="*{tag}" placeholder="Search for Music Genre.." />
				
			Country: <input type="text" size="15" id="own" th:field="*{country}"
				placeholder="Search for Band from..{e.g. PL, GER}" /> 
				
			Since: <input
				type="text" size="15" id="own" th:field="*{since}"
				placeholder="Search for Bands founded Since..{e.g. 1990}" /> 
				
			<br />
			<br />
			<div class="container text-center">
			<button type="submit" class="btn btn-primary">Search</button>
			</div>
		</div>
	</form>
	
	
	<div class="list-unstyled">
			<span class="year">Check most popular music genres</span>
			<br/>
			<div class="mb-3" id="genres">
				<form class="mr-2 inline form-unstyled" th:action="@{/listofallbands}" method="post" th:object="${filter.tag}">
				<input type="hidden" name="tag" value='rock' />
				<button type="submit" class="btn btn-link">Rock</button></form>
				
				
				<form class="mr-2 inline form-unstyled" th:action="@{/listofallbands}" method="post" th:object="${filter.tag}">
				<input type="hidden" name="tag" value='alternative' />
				<button type="submit" class="btn btn-link">Alternative</button></form>
				
				<form class="mr-2 inline form-unstyled" th:action="@{/listofallbands}" method="post" th:object="${filter.tag}">
				<input type="hidden" name="tag" value='electronic' />
				<button type="submit" class="btn btn-link">Electronic</button></form>
				
				<form class="mr-2 inline form-unstyled" th:action="@{/listofallbands}" method="post" th:object="${filter.tag}">
				<input type="hidden" name="tag" value='experimental' />
				<button type="submit" class="btn btn-link">Experimental</button></form>
				
				
				<form class="mr-2 inline form-unstyled" th:action="@{/listofallbands}" method="post" th:object="${filter.tag}">
				<input type="hidden" name="tag" value='shoegaze' />
				<button type="submit" class="btn btn-link">Shoegaze</button></form>
				
		</div>
		</div>

				<div class="container text-center">
			<span class="help-block">Point at table row to select band.<br/>
			You can see chosen bands below the main table.</span>
			<br />
			<br />



			<div class="row">
				<div class="col-lg-10 col-md-3 mx-auto">
					<div class="table-preview">
		<table id="table1" class="table">
		<thead>
		<tr class="container text-center">
						<th>id</th>
						<th>Name Band</th>
						<th>City</th>
						<th>Country</th>
						<th>Tag</th>
						<th>Since</th>
						<th>Listeners</th>
						<th>Best Album</th>
						<th>Best Song</th>
						<th>Off Festival</th>

					</tr>
					</thead>
					<tr th:each="band : ${bands}">
						<td th:text="${band.id_band}" />
						<td th:text="${band.name_band}" />
						<td th:text="${band.city}" />
						<td th:text="${band.country}" />
						<td th:text="${band.tag}" />
						<td th:text="${band.since}" />
						<td th:text="${band.listeners_kilo}" />
						<td th:text="${band.name_album}" />
						<td th:text="${band.best_song}" />
						<td th:text="${band.year}" />


					</tr>
				</table>
				
				
				
				</div>

				<div class="form-group">
					<div class="mt-4 col-sm-12">
						<h2 class="text-center">Selected Item</h2>
					</div>
				</div>

				<table id="table2" class="table col-sm-12"></table>
				
				

				<form id="forma" th:action="@{/listofallbands}" method="post" th:object="${select}">
					<input type="hidden" name="id_bandS" id="id_band" /> 
					<input type="hidden" name="name_bandS" id="name_band" /> 
					<input type="hidden" name="cityS" id="city" /> 
					<input type="hidden" name="countryS" id="country" /> 
					<input type="hidden" name="tagS" id="tag" /> 
					<input type="hidden" name="sinceS" id="since" /> 
					<input type="hidden" name="listeners_kiloS" id="listeners_kilo" />
					<input type="hidden" name="name_albumS" id="name_album" /> 
					<input type="hidden" name="best_songS" id="best_song" /> 
					<input type="hidden" name="yearS" id="year" />

					<p>
						<input sec:authorize="isAuthenticated()" class="mb-5 mt-5 btn btn-primary btn-xl js-scroll-trigger" 
						type="submit" id="bt" value="Add to Playlist Creator!" />
					</p>

				</form>
				<p id="info"></p>

				<div class="container text-center my-bottom mt-5"></div>
			</div>
		</div>
	</div>


	<!-- Footer -->
	<div th:replace="fragments/footer :: footer"></div>



	<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
	<script src="js/multiselect.js" type="text/javascript"></script>

	<script type="text/javascript">
		$(function() {
			$('#table1').multiSelect(
					{
						actcls : 'info',
						selector : 'tbody tr',
						except : [ 'tbody' ],
						statics : [ '.danger', '[data-no="1"]' ],
						callback : function(items) {
							$('#table2').empty().append(items.clone().removeClass('info').addClass('success'));
						}
					});

		})
	</script>

	<script type="text/javascript">
		//<![CDATA[ 
		var table = document.getElementById('table1');

		for (var i = 0; i < table.rows.length; i++) {
			table.rows[i].onclick = function() {
				//rIndex = this.rowIndex;
				document.getElementById('id_band').value = this.cells[0].innerHTML;
				document.getElementById('name_band').value = this.cells[1].innerHTML;
				document.getElementById('city').value = this.cells[2].innerHTML;
				document.getElementById('country').value = this.cells[3].innerHTML;
				document.getElementById('tag').value = this.cells[4].innerHTML;
				document.getElementById('since').value = this.cells[5].innerHTML;
				document.getElementById('listeners_kilo').value = this.cells[6].innerHTML;
				document.getElementById('name_album').value = this.cells[7].innerHTML;
				document.getElementById('best_song').value = this.cells[8].innerHTML;
				document.getElementById('year').value = this.cells[9].innerHTML;
			};
		}
		//]]>
	</script>


</body>

</html>

